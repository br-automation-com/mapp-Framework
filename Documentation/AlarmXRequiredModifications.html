

<html>
	
<head>
	<title>Required Modifications</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Professional Edition 6.4.0.357">
	<meta name="description" content="" /> 
	<meta name="keywords" content="">
	
	
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>

	
	
</head>

<body>



	
	
	<div id="topic_content">
		
<p></p>
<h1 class="rvps4"><span class="rvts0"><span class="rvts13">mapp AlarmX Framework - </span></span><span class="rvts0"><span class="rvts13">Required Modifications</span></span></h1>
<p class="rvps2"><span class="rvts6">The Framework by default provides a solid foundation, but in order to integrate it fully into your application there are a few modifications that must be made. </span></p>
<p class="rvps2"><span class="rvts6">The following list of modifications are </span><span class="rvts18">required</span><span class="rvts6">&nbsp;to get the Framework in a functional state within the application.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<div class="rvps2"><table width="90%" border="4" cellpadding="10" cellspacing="2" style="border-color: #6699ff; border-style: solid; border-spacing: 2px;">
<tr valign="top">
<td style="border-width : 0px; padding: 10px; background-color: #eeeeee;"><p class="rvps2"><span class="rvts6">IMPORTANT: The steps on this page must be executed in order to get the Framework into a functional state! </span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Define the condition to </span><span class="rvts24">trigger</span><span class="rvts6">&nbsp;each alarm</span></li>
</ol>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">The AlarmMgt task contains a Boolean array called “Alarms”. Each index of the array corresponds to the Monitored PV for each of the 100 predefined alarms in the AlarmX configuration. </span></li>
<li class="rvps2"><span class="rvts6">For each of these 100 alarms, set the Alarms[] bit equal to the alarm condition that is relevant to the application. This is done in the AlarmHandling.st action file. </span></li>
<li class="rvps2"><span class="rvts6">For example, if Alarms[0] should trigger when Estop1 is pressed, then:</span><br/><span class="rvts26">Alarms[0]</span><span class="rvts27">&nbsp;</span><span class="rvts28">:=</span><span class="rvts27">&nbsp;</span><span class="rvts28">EStop1;</span></li>
</ul></ul>
<p class="rvps2"><span class="rvts28"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: decimal;">
<li value="2" class="rvps2"><span class="rvts6">Define the unique </span><span class="rvts24">alarm text</span><span class="rvts6">&nbsp;for each alarm in the Alarms.tmx file</span></li>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Text ID Alarm.0 holds the alarm text for Alarm0, Text ID Alarm.1 holds the alarm text for Alarm1, etc</span></li>
<li value="2" class="rvps2"><span class="rvts6">Remember to define the text for all languages that are relevant to the application </span></li>
</ol></ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: decimal;">
<li value="3" class="rvps2"><span class="rvts6">Assign an appropriate </span><span class="rvts24">severity</span><span class="rvts6">&nbsp;to each alarm in the Alarm List according to the alarm mapping</span></li>
</ol>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">This is done in the AlarmX.mpalarmxcore configuration file</span></li>
<li class="rvps2"><span class="rvts6">By default, the severity of all alarms is “1”, which corresponds to the “Info” reaction</span></li>
<li class="rvps2"><span class="rvts6">The severity you select will affect what alarm reaction is triggered when the alarm is triggered </span><br/><span class="rvts6"></span><br/><img alt="" style="padding : 1px;" src="lib/AlarmX_Severity.png"></li>
</ul></ul>
<p class="rvps2"><span class="rvts6">&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: decimal;">
<li value="4" class="rvps2"><span class="rvts6">Define how the application should </span><span class="rvts24">respond to each alarm reaction</span></li>
</ol>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">This is done via the MpAlarmXCheckReaction() function calls in AlarmMgt.st (starting on line 57)</span></li>
<li class="rvps2"><span class="rvts6">Within each condition of the IF statement, program how the machine should respond to the reaction</span></li>
<li class="rvps2"><span class="rvts6">For example, if the "Error" reaction is true, then stop all axes; if the "Warning" reaction is true, stop the machine after the next cycle; if the "Info" reaction is true, show a pop-up on the HMI with the information.</span></li>
<li class="rvps2"><span class="rvts6">For more details on optional changes regarding alarm reactions / alarm mapping, see </span><a class="rvts25" href="mappAlarmX.html">here</a><span class="rvts6">.</span></li>
</ul></ul>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: decimal;">
<li value="5" class="rvps2"><span class="rvts6">If you imported the mapp View front end with the Framework, assign the provided </span><span class="rvts24">mapp View content</span><span class="rvts6">&nbsp;(content ID = AlarmX_content) to an area on a page within your visualization.</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p></p>

	</div>
	
	
	

	
</body>
	
</html>

